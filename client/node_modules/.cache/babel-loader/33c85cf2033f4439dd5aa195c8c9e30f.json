{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (key, token) {\n  if (typeof key !== 'string') throw new Error('First argument must be a string - used as key when storing token in localStorage.');\n  var tokenHandler = null;\n\n  if (token) {\n    setStoredToken(key, token);\n    tokenHandler = new _tokenHandler2.default(token);\n  } else {\n    var saved_token = getStoredToken(key);\n    tokenHandler = saved_token ? new _tokenHandler2.default(saved_token) : null;\n  }\n\n  this.valid = function () {\n    return tokenHandler ? !tokenHandler.expired() : false;\n  };\n\n  this.getToken = function () {\n    return tokenHandler ? tokenHandler.getToken() : undefined;\n  };\n\n  this.getClaim = function (name) {\n    return tokenHandler ? tokenHandler.getClaim(name) : undefined;\n  };\n\n  this.eject = function () {\n    removeStoredToken(key);\n  };\n};\n\nvar _tokenHandler = require('./token-handler');\n\nvar _tokenHandler2 = _interopRequireDefault(_tokenHandler);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction setStoredToken(key, token) {\n  localStorage.setItem(key, token);\n}\n\nfunction getStoredToken(key) {\n  return localStorage.getItem(key);\n}\n\nfunction removeStoredToken(key) {\n  localStorage.removeItem(key);\n}","map":{"version":3,"sources":["C:/Users/BCWAHOO/WorkSpace/BootCamp/Session/wk21 - React/readinglist-with-jwt-auth/client/node_modules/jwt-jot/lib/browser.js"],"names":["Object","defineProperty","exports","value","default","key","token","Error","tokenHandler","setStoredToken","_tokenHandler2","saved_token","getStoredToken","valid","expired","getToken","undefined","getClaim","name","eject","removeStoredToken","_tokenHandler","require","_interopRequireDefault","obj","__esModule","localStorage","setItem","getItem","removeItem"],"mappings":"AAAA;;AAEAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AACzCC,EAAAA,KAAK,EAAE;AADkC,CAA7C;;AAIAD,OAAO,CAACE,OAAR,GAAkB,UAAUC,GAAV,EAAeC,KAAf,EAAsB;AAEpC,MAAI,OAAOD,GAAP,KAAe,QAAnB,EAA6B,MAAM,IAAIE,KAAJ,CAAU,mFAAV,CAAN;AAE7B,MAAIC,YAAY,GAAG,IAAnB;;AAEA,MAAIF,KAAJ,EAAW;AACPG,IAAAA,cAAc,CAACJ,GAAD,EAAMC,KAAN,CAAd;AACAE,IAAAA,YAAY,GAAG,IAAIE,cAAc,CAACN,OAAnB,CAA2BE,KAA3B,CAAf;AACH,GAHD,MAGO;AACH,QAAIK,WAAW,GAAGC,cAAc,CAACP,GAAD,CAAhC;AACAG,IAAAA,YAAY,GAAGG,WAAW,GAAG,IAAID,cAAc,CAACN,OAAnB,CAA2BO,WAA3B,CAAH,GAA6C,IAAvE;AACH;;AAED,OAAKE,KAAL,GAAa,YAAY;AACrB,WAAOL,YAAY,GAAG,CAACA,YAAY,CAACM,OAAb,EAAJ,GAA6B,KAAhD;AACH,GAFD;;AAIA,OAAKC,QAAL,GAAgB,YAAY;AACxB,WAAOP,YAAY,GAAGA,YAAY,CAACO,QAAb,EAAH,GAA6BC,SAAhD;AACH,GAFD;;AAIA,OAAKC,QAAL,GAAgB,UAAUC,IAAV,EAAgB;AAC5B,WAAOV,YAAY,GAAGA,YAAY,CAACS,QAAb,CAAsBC,IAAtB,CAAH,GAAiCF,SAApD;AACH,GAFD;;AAIA,OAAKG,KAAL,GAAa,YAAY;AACrBC,IAAAA,iBAAiB,CAACf,GAAD,CAAjB;AACH,GAFD;AAGH,CA7BD;;AA+BA,IAAIgB,aAAa,GAAGC,OAAO,CAAC,iBAAD,CAA3B;;AAEA,IAAIZ,cAAc,GAAGa,sBAAsB,CAACF,aAAD,CAA3C;;AAEA,SAASE,sBAAT,CAAgCC,GAAhC,EAAqC;AAAE,SAAOA,GAAG,IAAIA,GAAG,CAACC,UAAX,GAAwBD,GAAxB,GAA8B;AAAEpB,IAAAA,OAAO,EAAEoB;AAAX,GAArC;AAAwD;;AAE/F,SAASf,cAAT,CAAwBJ,GAAxB,EAA6BC,KAA7B,EAAoC;AAChCoB,EAAAA,YAAY,CAACC,OAAb,CAAqBtB,GAArB,EAA0BC,KAA1B;AACH;;AAED,SAASM,cAAT,CAAwBP,GAAxB,EAA6B;AACzB,SAAOqB,YAAY,CAACE,OAAb,CAAqBvB,GAArB,CAAP;AACH;;AAED,SAASe,iBAAT,CAA2Bf,GAA3B,EAAgC;AAC5BqB,EAAAA,YAAY,CAACG,UAAb,CAAwBxB,GAAxB;AACH","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nexports.default = function (key, token) {\n\n    if (typeof key !== 'string') throw new Error('First argument must be a string - used as key when storing token in localStorage.');\n\n    var tokenHandler = null;\n\n    if (token) {\n        setStoredToken(key, token);\n        tokenHandler = new _tokenHandler2.default(token);\n    } else {\n        var saved_token = getStoredToken(key);\n        tokenHandler = saved_token ? new _tokenHandler2.default(saved_token) : null;\n    }\n\n    this.valid = function () {\n        return tokenHandler ? !tokenHandler.expired() : false;\n    };\n\n    this.getToken = function () {\n        return tokenHandler ? tokenHandler.getToken() : undefined;\n    };\n\n    this.getClaim = function (name) {\n        return tokenHandler ? tokenHandler.getClaim(name) : undefined;\n    };\n\n    this.eject = function () {\n        removeStoredToken(key);\n    };\n};\n\nvar _tokenHandler = require('./token-handler');\n\nvar _tokenHandler2 = _interopRequireDefault(_tokenHandler);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction setStoredToken(key, token) {\n    localStorage.setItem(key, token);\n}\n\nfunction getStoredToken(key) {\n    return localStorage.getItem(key);\n}\n\nfunction removeStoredToken(key) {\n    localStorage.removeItem(key);\n}"]},"metadata":{},"sourceType":"script"}